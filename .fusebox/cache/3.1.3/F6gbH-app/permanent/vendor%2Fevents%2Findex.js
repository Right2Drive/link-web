{"version":3,"sources":["/vendor/events/index.js"],"names":["false","FuseBox","isServer","module","exports","global","require","EventEmitter","_events","_maxListeners","undefined","prototype","defaultMaxListeners","setMaxListeners","n","isNumber","isNaN","TypeError","emit","type","er","handler","len","args","i","listeners","error","isObject","length","arguments","Error","isUndefined","isFunction","call","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","arg"],"mappings":"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","file":"index.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nif (FuseBox.isServer) {\n    module.exports = global.require(\"events\");\n} else {\n    function EventEmitter() {\n        this._events = this._events || {};\n        this._maxListeners = this._maxListeners || undefined;\n    }\n    module.exports = EventEmitter;\n\n    // Backwards-compat with node 0.10.x\n    EventEmitter.EventEmitter = EventEmitter;\n\n    EventEmitter.prototype._events = undefined;\n    EventEmitter.prototype._maxListeners = undefined;\n\n    // By default EventEmitters will print a warning if more than 10 listeners are\n    // added to it. This is a useful default which helps finding memory leaks.\n    EventEmitter.defaultMaxListeners = 10;\n\n    // Obviously not all Emitters should be limited to 10. This function allows\n    // that to be increased. Set to zero for unlimited.\n    EventEmitter.prototype.setMaxListeners = function(n) {\n        if (!isNumber(n) || n < 0 || isNaN(n))\n            throw TypeError(\"n must be a positive number\");\n        this._maxListeners = n;\n        return this;\n    };\n\n    EventEmitter.prototype.emit = function(type) {\n        var er, handler, len, args, i, listeners;\n\n        if (!this._events)\n            this._events = {};\n\n        // If there is no 'error' event listener then throw.\n        if (type === \"error\") {\n            if (!this._events.error ||\n                (isObject(this._events.error) && !this._events.error.length)) {\n                er = arguments[1];\n                if (er instanceof Error) {\n                    throw er; // Unhandled 'error' event\n                }\n                throw TypeError(\"Uncaught, unspecified \\\"error\\\" event.\");\n            }\n        }\n\n        handler = this._events[type];\n\n        if (isUndefined(handler))\n            return false;\n\n        if (isFunction(handler)) {\n            switch (arguments.length) {\n                // fast cases\n                case 1:\n                    handler.call(this);\n                    break;\n                case 2:\n                    handler.call(this, arguments[1]);\n                    break;\n                case 3:\n                    handler.call(this, arguments[1], arguments[2]);\n                    break;\n                    // slower\n                default:\n                    args = Array.prototype.slice.call(arguments, 1);\n                    handler.apply(this, args);\n            }\n        } else if (isObject(handler)) {\n            args = Array.prototype.slice.call(arguments, 1);\n            listeners = handler.slice();\n            len = listeners.length;\n            for (i = 0; i < len; i++)\n                listeners[i].apply(this, args);\n        }\n\n        return true;\n    };\n\n    EventEmitter.prototype.addListener = function(type, listener) {\n        var m;\n\n        if (!isFunction(listener))\n            throw TypeError(\"listener must be a function\");\n\n        if (!this._events)\n            this._events = {};\n\n        // To avoid recursion in the case that type === \"newListener\"! Before\n        // adding it to the listeners, first emit \"newListener\".\n        if (this._events.newListener)\n            this.emit(\"newListener\", type,\n                isFunction(listener.listener) ?\n                listener.listener : listener);\n\n        if (!this._events[type])\n        // Optimize the case of one listener. Don't need the extra array object.\n            this._events[type] = listener;\n        else if (isObject(this._events[type]))\n        // If we've already got an array, just append.\n            this._events[type].push(listener);\n        else\n        // Adding the second element, need to change to array.\n            this._events[type] = [this._events[type], listener];\n\n        // Check for listener leak\n        if (isObject(this._events[type]) && !this._events[type].warned) {\n            if (!isUndefined(this._maxListeners)) {\n                m = this._maxListeners;\n            } else {\n                m = EventEmitter.defaultMaxListeners;\n            }\n\n            if (m && m > 0 && this._events[type].length > m) {\n                this._events[type].warned = true;\n                console.error(\"(node) warning: possible EventEmitter memory \" +\n                    \"leak detected. %d listeners added. \" +\n                    \"Use emitter.setMaxListeners() to increase limit.\",\n                    this._events[type].length);\n                if (typeof console.trace === \"function\") {\n                    // not supported in IE 10\n                    console.trace();\n                }\n            }\n        }\n\n        return this;\n    };\n\n    EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n    EventEmitter.prototype.once = function(type, listener) {\n        if (!isFunction(listener))\n            throw TypeError(\"listener must be a function\");\n\n        var fired = false;\n\n        function g() {\n            this.removeListener(type, g);\n\n            if (!fired) {\n                fired = true;\n                listener.apply(this, arguments);\n            }\n        }\n\n        g.listener = listener;\n        this.on(type, g);\n\n        return this;\n    };\n\n    // emits a 'removeListener' event iff the listener was removed\n    EventEmitter.prototype.removeListener = function(type, listener) {\n        var list, position, length, i;\n\n        if (!isFunction(listener))\n            throw TypeError(\"listener must be a function\");\n\n        if (!this._events || !this._events[type])\n            return this;\n\n        list = this._events[type];\n        length = list.length;\n        position = -1;\n\n        if (list === listener ||\n            (isFunction(list.listener) && list.listener === listener)) {\n            delete this._events[type];\n            if (this._events.removeListener)\n                this.emit(\"removeListener\", type, listener);\n\n        } else if (isObject(list)) {\n            for (i = length; i-- > 0;) {\n                if (list[i] === listener ||\n                    (list[i].listener && list[i].listener === listener)) {\n                    position = i;\n                    break;\n                }\n            }\n\n            if (position < 0)\n                return this;\n\n            if (list.length === 1) {\n                list.length = 0;\n                delete this._events[type];\n            } else {\n                list.splice(position, 1);\n            }\n\n            if (this._events.removeListener)\n                this.emit(\"removeListener\", type, listener);\n        }\n\n        return this;\n    };\n\n    EventEmitter.prototype.removeAllListeners = function(type) {\n        var key, listeners;\n\n        if (!this._events)\n            return this;\n\n        // not listening for removeListener, no need to emit\n        if (!this._events.removeListener) {\n            if (arguments.length === 0)\n                this._events = {};\n            else if (this._events[type])\n                delete this._events[type];\n            return this;\n        }\n\n        // emit removeListener for all listeners on all events\n        if (arguments.length === 0) {\n            for (key in this._events) {\n                if (key === \"removeListener\") continue;\n                this.removeAllListeners(key);\n            }\n            this.removeAllListeners(\"removeListener\");\n            this._events = {};\n            return this;\n        }\n\n        listeners = this._events[type];\n\n        if (isFunction(listeners)) {\n            this.removeListener(type, listeners);\n        } else if (listeners) {\n            // LIFO order\n            while (listeners.length)\n                this.removeListener(type, listeners[listeners.length - 1]);\n        }\n        delete this._events[type];\n\n        return this;\n    };\n\n    EventEmitter.prototype.listeners = function(type) {\n        var ret;\n        if (!this._events || !this._events[type])\n            ret = [];\n        else if (isFunction(this._events[type]))\n            ret = [this._events[type]];\n        else\n            ret = this._events[type].slice();\n        return ret;\n    };\n\n    EventEmitter.prototype.listenerCount = function(type) {\n        if (this._events) {\n            var evlistener = this._events[type];\n\n            if (isFunction(evlistener))\n                return 1;\n            else if (evlistener)\n                return evlistener.length;\n        }\n        return 0;\n    };\n\n    EventEmitter.listenerCount = function(emitter, type) {\n        return emitter.listenerCount(type);\n    };\n\n    function isFunction(arg) {\n        return typeof arg === \"function\";\n    }\n\n    function isNumber(arg) {\n        return typeof arg === \"number\";\n    }\n\n    function isObject(arg) {\n        return typeof arg === \"object\" && arg !== null;\n    }\n\n    function isUndefined(arg) {\n        return arg === void 0;\n    }\n}\n"]}